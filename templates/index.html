<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Marthoma Yuvajana Sakhyam - Empowering Youth for Christ</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link
        href="https://fonts.googleapis.com/css2?family=JetBrains+Mono:ital,wght@0,100..800;1,100..800&family=Libertinus+Math&family=Poppins:ital,wght@0,100;0,200;0,300;0,400;0,500;0,600;0,700;0,800;0,900;1,100;1,200;1,300;1,400;1,500;1,600;1,700;1,800;1,900&family=Roboto:ital,wght@0,100..900;1,100..900&display=swap"
        rel="stylesheet">
    <link
        href="https://fonts.googleapis.com/css2?family=Poppins:wght@300..700&family=Playfair+Display:wght@400..700&display=swap"
        rel="stylesheet">
    <link rel="stylesheet" href="/static/index.css">
    <style>
        .member-avatar {
            position: relative;
            cursor: pointer;
            transition: box-shadow 0.2s;
        }

        .member-avatar.edit-hover::after {
            content: 'Change image';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: rgba(120, 120, 120, 0.55);
            color: #fff;
            font-size: 0.68em;
            font-weight: 600;
            display: flex;
            align-items: center;
            justify-content: center;
            border-radius: 50%;
            z-index: 2;
            pointer-events: none;
            opacity: 1;
            transition: opacity 0.2s;
            text-align: center;
            line-height: 1.1;
            padding: 0 6px;
        }
    </style>
</head>

<body>
    <div class="bg-animation"></div>

    <header id="header">
        <nav class="container">
            <!-- <div class="logo">Marthoma Yuvajana Sakhyam</div> -->
            <div class="logo">
                <a href="#home">
                    <img src="/static/logo.png" alt="Marthoma Yuvajana Sakhyam Logo"
                        style="height:60px;vertical-align:middle;">
                </a>
                <h5 style="margin:0;line-height:1.1;">
                    <span style="display:block;font-weight:800;font-size:1.2em;">CHRISTOS</span>
                    <span style="display:block;font-weight:400;font-size:0.95em;">MARTHOMA YUVAJANA SAKHYAM</span>
                </h5>
            </div>
            <ul class="nav-links">
                <li><a href="#home">Home</a></li>
                <li><a href="#about">About</a></li>
                <li><a href="#committee">Committee</a></li>
                <li><a href="#events">Events</a></li>
                <li><a href="#articles">Articles</a></li>
                <li><button id="showEditBtn"
                        style="background:#0095ff;color:#fff;border:none;padding:8px 18px;border-radius:20px;font-weight:600;cursor:pointer;">Login</button>
                </li>
            </ul>
        </nav>
    </header>

    <div class="mobile-nav-overlay" id="mobileNavOverlay">
        <button class="close-btn" aria-label="Close navigation menu">&times;</button>
        <ul class="mobile-nav-links">
            <li><a href="#home">Home</a></li>
            <li><a href="#about">About</a></li>
            <li><a href="#committee">Committee</a></li>
            <li><a href="#events">Events</a></li>
            <li><a href="#articles">Articles</a></li>
        </ul>
    </div>

    <section id="home" class="hero">
        <div class="hero-bg-slideshow"></div>
        <div class="hero-welcome">
            Welcome to the Christos YJS Family!
            <span>A place for faith, fellowship, and growth.</span>
        </div>
        <div class="hero-overlay"></div>
        <div class="container">
            <div class="hero-content">

                <h2>Empowering Youth, Building Community, Serving Christ</h2>
                <a href="#about" class="cta-button">Discover Our Journey</a>
            </div>
        </div>
    </section>

    <section id="about" class="about">
        <div class="container">
            <h2 class="section-title animate-on-scroll">About Us</h2>
            <div class="about-content">
                <div class="about-text animate-on-scroll card-effect">
                    <p>The <b> Christos Marthoma Church Yuvajana Sakhyam</b> is a vibrant youth organization dedicated
                        to fostering
                        spiritual
                        growth, community service, and fellowship among young people in the Marthoma Church. Our
                        mission
                        is to create an environment where youth can develop their faith, talents, and leadership
                        skills
                        while actively contributing to society.</p>

                    <p>Through various programs, events, and initiatives, we strive to build strong Christian values,
                        promote cultural heritage, and encourage active participation in church and community
                        activities. We believe in empowering the next generation to become responsible citizens and
                        faithful servants of Christ.</p>

                    <p>Join us in our journey of faith, friendship, and service as we work together to make a positive
                        impact in our community and beyond.</p>
                </div>
                <div class="about-visual about-visual-vision-animate animate-on-scroll card-effect vision-animated-bg">
                    <div>
                        <h3 class="about-visual-vision-title">Our Vision</h3>
                        <p class="about-visual-vision-desc">Building tomorrow's Christian leaders through faith,
                            fellowship, and service.</p>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <section id="committee">
        <div class="container">
            <h2 class="section-title animate-on-scroll">Committee Members</h2>
            <div class="committee-grid">
                <div class="member-card animate-on-scroll card-effect">
                    <div class="member-avatar">MP</div>
                    <h3>Rev M.P.Solomon</h3>
                    <p><strong>President</strong></p>
                    <p>Leading our organization with vision and dedication to youth empowerment.</p>
                </div>
                <div class="member-card animate-on-scroll card-effect">
                    <div class="member-avatar">MK</div>
                    <h3>Rev.Minoy Kuruvilla</h3>
                    <p><strong>Clergy</strong></p>
                    <p>Supporting leadership initiatives and community outreach programs.</p>
                </div>
                <div class="member-card animate-on-scroll card-effect">
                    <div class="member-avatar">AD</div>
                    <h3>Adharsh Dani</h3>
                    <p><strong>Vice President</strong></p>
                    <p>Organizing events and coordinating youth activities.</p>
                </div>
                <div class="member-card animate-on-scroll card-effect">
                    <div class="member-avatar">HP</div>
                    <h3>Heinz Paul Binju</h3>
                    <p><strong>Secretary</strong></p>
                    <p>Managing organizational communications and documentation.</p>
                </div>
                <div class="member-card animate-on-scroll card-effect">
                    <div class="member-avatar">JM</div>
                    <h3>Joel Mathew</h3>
                    <p><strong>Treasurer</strong></p>
                    <p>Overseeing financial management and resource allocation.</p>
                </div>
                <div class="member-card animate-on-scroll card-effect">
                    <div class="member-avatar">NS</div>
                    <h3>Neha Sara</h3>
                    <p><strong>Joint Secretary</strong></p>
                    <p>Leading community service and social impact initiatives.</p>
                </div>
            </div>
        </div>
    </section>

    <section id="events" class="events">
        <div class="container">
            <h2 class="section-title animate-on-scroll">Our Events</h2>
            <div class="carousel-container animate-on-scroll card-effect">
                <div class="carousel" id="eventsCarousel">
                    <div class="event-slide">
                        <div class="event-image" style="background-image: url('static/event1.jpg');"></div>
                        <div class="event-content">
                            <h3 class="event-title">Annual Youth Convention 2024</h3>
                            <p>Celebrating our rich Marthoma heritage through traditional music, dance, and art
                                performances. A platform for youth to showcase their talents while preserving our
                                cultural identity.</p>
                            <p><strong>Date:</strong> December 2024 | <strong>Audience:</strong> 800+ attendees</p>
                        </div>
                    </div>
                    <div class="event-slide">
                        <div class="event-image" style="background-image: url('static/event2.jpg');"></div>
                        <div class="event-content">
                            <h3 class="event-title">Community Service Drive</h3>
                            <p>Our monthly community service initiative where members volunteer at local orphanages,
                                elderly care centers, and environmental cleanup projects. Making a difference one act of
                                service at a time.</p>
                            <p><strong>Frequency:</strong> Monthly | <strong>Impact:</strong> 50+ families helped</p>
                        </div>
                    </div>
                    <div class="event-slide">
                        <div class="event-image" style="background-image: url('static/event3.jpg');"></div>
                        <div class="event-content">
                            <h3 class="event-title">Youth Leadership Workshop</h3>
                            <p>Intensive leadership development program focusing on communication skills, team building,
                                and Christian leadership principles. Preparing young leaders for future ministry and
                                community roles.</p>
                            <p><strong>Duration:</strong> 2 Days | <strong>Participants:</strong> 75 Youth Leaders</p>
                        </div>
                    </div>
                </div>
            </div>
            <div class="carousel-nav">
                <button class="carousel-btn" onclick="prevSlide()">&#8592; Previous</button>
                <button class="carousel-btn" onclick="nextSlide()">Next &#8594;</button>
            </div>
        </div>
    </section>

    <section id="articles">
        <div class="container">
            <h2 class="section-title animate-on-scroll">Member Articles</h2>
            <div class="articles-grid">
                <div class="article-card animate-on-scroll card-effect">
                    <div class="article-image" style="background-image: url('static/article1.jpg');"></div>
                    <div class="article-content">
                        <h3 class="article-title">Navigating Faith in the Digital Age</h3>
                        <p class="article-author">By Thomas Abraham</p>
                        <p>Exploring how young Christians can maintain their spiritual connection while embracing modern
                            technology and social media platforms...</p>
                    </div>
                </div>
                <div class="article-card animate-on-scroll card-effect">
                    <div class="article-image" style="background-image: url('static/article2.jpg');"></div>
                    <div class="article-content">
                        <h3 class="article-title">The Power of Youth in Community Service</h3>
                        <p class="article-author">By Priya Samuel</p>
                        <p>Reflecting on how organized youth service can create lasting positive change in our
                            communities and build character in young volunteers...</p>
                    </div>
                </div>
                <div class="article-card animate-on-scroll card-effect">
                    <div class="article-image" style="background-image: url('static/article3.jpg');"></div>
                    <div class="article-content">
                        <h3 class="article-title">Leadership Lessons from Biblical Examples</h3>
                        <p class="article-author">By John Mathew</p>
                        <p>Drawing inspiration from biblical leaders like David, Esther, and Timothy to develop
                            effective leadership skills for today's challenges...</p>
                    </div>
                </div>
                <div class="article-card animate-on-scroll card-effect">
                    <div class="article-image" style="background-image: url('static/article4.jpg');"></div>
                    <div class="article-content">
                        <h3 class="article-title">Preserving Our Marthoma Legacy</h3>
                        <p class="article-author">By Anna Philip</p>
                        <p>Understanding the importance of maintaining our cultural and spiritual heritage while
                            adapting to contemporary realities...</p>
                    </div>
                </div>
                <div class="article-card animate-on-scroll card-effect">
                    <div class="article-image" style="background-image: url('static/article5.jpg');"></div>
                    <div class="article-content">
                        <h3 class="article-title">Building Inclusive Youth Communities</h3>
                        <p class="article-author">By Daniel George</p>
                        <p>Creating welcoming spaces where all young people can grow in faith, regardless of their
                            background or circumstances...</p>
                    </div>
                </div>
                <div class="article-card animate-on-scroll card-effect">
                    <div class="article-image" style="background-image: url('static/article6.jpg');"></div>
                    <div class="article-content">
                        <h3 class="article-title">Finding Purpose in Service</h3>
                        <p class="article-author">By Grace Joseph</p>
                        <p>Personal testimony about discovering life's purpose through active participation in church
                            and community service initiatives...</p>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <footer>
        <div class="container">
            <div class="footer-content">
                <div class="footer-section animate-on-scroll">
                    <h3>Contact Us</h3>
                    <p>📧 info@marthomayvs.org</p>
                    <p>📞 +91 98765 43210</p>
                    <p>📍 Marthoma Church Complex<br>Thiruvalla, Kerala</p>
                </div>
                <div class="footer-section animate-on-scroll">
                    <h3>Join Us</h3>
                    <p>🙏 Sunday Service: 9:00 AM</p>
                    <p>👥 Youth Meeting: Fridays 6:00 PM</p>
                    <p>📖 Bible Study: Wednesdays 7:00 PM</p>
                </div>
                <div class="footer-section animate-on-scroll">
                    <h3>Follow Our Journey</h3>
                    <p>📘 Facebook: @MarthomaYVS</p>
                    <p>📸 Instagram: @marthoma_yvs</p>
                    <p>🎥 YouTube: Marthoma YVS</p>
                </div>
            </div>
            <div class="footer-bottom animate-on-scroll">
                <p>&copy; 2024 Marthoma Yuvajana Sakhyam. All rights reserved.</p>
                <p style="margin-top: 0.5rem; opacity: 0.8;">✨ Built with love and faith in Kerala, India ✨</p>
            </div>
        </div>
    </footer>

    <script src="/static/main.js"></script>
    <script>
        // On page load, set avatar images if present in localStorage
        window.addEventListener('DOMContentLoaded', function () {
            document.querySelectorAll('.member-card').forEach(function (card) {
                const member = card.querySelector('.member-avatar').textContent.trim();
                // Try to find an avatar image in static/avatars by convention
                const possibleExtensions = ['jpg', 'jpeg', 'png', 'gif', 'webp'];
                let found = false;
                for (let ext of possibleExtensions) {
                    const url = `/static/avatars/${member}.${ext}`;
                    const img = new window.Image();
                    img.onload = function () {
                        if (!found) {
                            const avatar = card.querySelector('.member-avatar');
                            avatar.style.backgroundImage = `url('${url}')`;
                            avatar.style.backgroundSize = 'cover';
                            avatar.style.backgroundPosition = 'center';
                            avatar.style.backgroundRepeat = 'no-repeat';
                            avatar.textContent = '';
                            found = true;
                        }
                    };
                    img.onerror = function () { };
                    img.src = url;
                }
            });
        });

        document.getElementById('showEditBtn').addEventListener('click', function () {
            document.querySelectorAll('.member-card').forEach(function (card) {
                if (!card.querySelector('.edit-pencil-btn')) {
                    const btn = document.createElement('button');
                    btn.className = 'edit-pencil-btn';
                    btn.title = 'Edit';
                    btn.innerHTML = '<svg width="20" height="20" fill="none" stroke="#0095ff" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" viewBox="0 0 24 24"><path d="M12 20h9"/><path d="M16.5 3.5a2.121 2.121 0 1 1 3 3L7 19.5 3 21l1.5-4L16.5 3.5z"/></svg>';
                    btn.style.background = 'transparent';
                    btn.style.border = 'none';
                    btn.style.cursor = 'pointer';
                    btn.style.position = 'absolute';
                    btn.style.top = '12px';
                    btn.style.right = '12px';
                    btn.style.padding = '4px';
                    btn.style.borderRadius = '50%';
                    btn.style.transition = 'background 0.2s';
                    btn.onmouseover = function () { btn.style.background = '#e3f2fd'; };
                    btn.onmouseout = function () { btn.style.background = 'transparent'; };
                    card.style.position = 'relative';
                    card.appendChild(btn);
                }
                // Add avatar hover overlay for image change
                const avatar = card.querySelector('.member-avatar');
                if (avatar && !avatar.classList.contains('edit-hover-enabled')) {
                    avatar.classList.add('edit-hover-enabled');
                    avatar.addEventListener('mouseenter', function () {
                        avatar.classList.add('edit-hover');
                    });
                    avatar.addEventListener('mouseleave', function () {
                        avatar.classList.remove('edit-hover');
                    });
                }
                // Enable file input only after login
                card.classList.add('avatar-edit-enabled');
            });
        });

        document.querySelectorAll('.member-card').forEach(function (card) {
            // Add a hidden file input if not present
            if (!card.querySelector('.avatar-upload-input')) {
                const input = document.createElement('input');
                input.type = 'file';
                input.accept = 'image/*';
                input.style.display = 'none';
                input.className = 'avatar-upload-input';
                card.appendChild(input);

                // When file is selected, upload it
                input.addEventListener('change', function (e) {
                    const file = e.target.files[0];
                    if (!file) return;
                    const formData = new FormData();
                    formData.append('avatar', file);
                    formData.append('member', card.querySelector('.member-avatar').textContent.trim());

                    fetch('/upload-avatar', {
                        method: 'POST',
                        body: formData
                    })
                        .then(res => res.json())
                        .then(data => {
                            if (data.success && data.url) {
                                const avatar = card.querySelector('.member-avatar');
                                avatar.style.backgroundImage = `url('${data.url}')`;
                                avatar.style.backgroundSize = 'cover';
                                avatar.style.backgroundPosition = 'center';
                                avatar.style.backgroundRepeat = 'no-repeat';
                                avatar.textContent = '';
                                // Store in localStorage for persistence
                                localStorage.setItem('avatar_' + card.querySelector('.member-avatar').textContent.trim(), data.url);
                            } else {
                                alert('Upload failed');
                            }
                        })
                        .catch(() => alert('Upload failed'));
                });
            }

            // When overlay or pencil is clicked, trigger file input
            card.addEventListener('click', function (e) {
                // Only allow editing if enabled
                if (!card.classList.contains('avatar-edit-enabled')) return;
                if (
                    e.target.classList.contains('edit-pencil-btn') ||
                    e.target.classList.contains('member-avatar') ||
                    (e.target.closest('.member-avatar') && e.target.closest('.member-avatar').classList.contains('member-avatar'))
                ) {
                    card.querySelector('.avatar-upload-input').click();
                }
            });
        });
    </script>
</body>

</html>